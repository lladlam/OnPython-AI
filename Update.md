# OnPython AI (OPAI) - 更新日志

## V0.1 Beta2 (2025年11月18日)

**友情提示：由于程序原因，如需让AI自主调用记忆，需将记忆相关度调整到25%以下**

### 新增功能

* **智能记忆检索机制** - AI会自动评估用户问题是否需要查询历史记忆
* **两阶段对话系统** - AI先判断记忆需求，再结合记忆信息生成回复
* **长期记忆管理** - 长期记忆库可无限存储重要信息，无需数量限制
* **记忆库设置页面** - 在设置界面新增记忆库配置选项

  * 记忆整理时间配置（默认60分钟）
  * 记忆相似度阈值配置（默认85%）

* **分离记忆存储结构** - 短期记忆和长期记忆分别存储在不同文件中
* **AI辅助记忆评估** - 由AI智能判断哪些对话内容需要保存到长期记忆
* **记忆库检索优化** - 支持新旧格式记忆项的兼容检索

### 功能改进

* **记忆利用效率提升** - AI能够更智能地利用历史记忆生成回复
* **记忆整理机制完善** - 由AI总结重要信息而非简单的关键词匹配
* **对话连贯性增强** - 基于历史记忆提供更连贯的对话体验
* **配置动态更新** - 记忆相关配置修改后立即生效
* **记忆库性能优化** - 改进记忆检索算法，提升响应速度
* **数据结构优化** - 长期记忆项包含时间戳、内容、标签和添加者信息

### 架构优化

* **模块化记忆系统** - 将记忆功能模块化，便于维护和扩展
* **AI评估流程** - 新增评估模块判断记忆需求，提升准确性
* **错误处理增强** - 改进记忆系统各环节的错误处理机制
* **异步记忆查询** - 优化记忆查询流程，避免阻塞主界面

### 问题修复

* 修复了长期记忆库条目数量限制问题
* 解决了记忆库检索功能未正确工作的Bug
* 修复了记忆系统配置更改后不生效的问题
* 优化了记忆格式兼容性，支持新旧格式混合使用
* 修复了记忆库文件结构不规范的问题

## V0.1 Beta1 (2025年11月1日)

### 新增功能

* **AI智能体架构** - 实现AI作为一个拥有系统访问权限的智能体
* **多编程语言支持** - 支持Python、JavaScript、Java、C++、C等语言的运行
* **系统命令支持** - 支持CMD和PowerShell命令执行
* **JSON命令格式** - AI使用结构化JSON格式输出命令，提高执行准确性
* **上下文管理** - 保持最近10轮对话的上下文，包含系统消息
* **高危命令检测** - 自动检测高危命令并提示用户确认
* **To Do列表生成** - AI在编程任务中自动生成To Do列表并逐步执行
* **.opai文件导入** - 支持导入和解析.opai文件
* **记忆库功能** - 记录已导入的程序和定期总结对话历史
* **用户界面** - 提供简洁的图形界面进行交互

### 功能改进

* **智能编程助手** - AI现在可以作为智能编程助手，自动生成解决方案
* **文件操作** - 支持创建、读取、修改、删除文件和目录操作
* **程序执行** - 支持多种编程语言的编译和运行
* **命令执行** - 支持系统命令的执行和结果返回
* **对话管理** - 改进的上下文管理，确保对话连贯性
* **错误处理** - 更好的错误处理和用户反馈

### 架构优化

* **模块化设计** - 采用模块化设计，便于扩展和维护
* **命令模式** - 实现命令模式，支持多种操作类型
* **安全机制** - 添加高危命令检测和用户确认机制
* **异步处理** - 支持异步API调用，避免界面冻结
* **配置管理** - 完善的配置管理，支持API设置和系统提示词

### 问题修复

* 修复了早期版本中的命令识别问题
* 解决了上下文长度管理问题
* 优化了AI响应处理逻辑
* 改进了命令执行的反馈机制
